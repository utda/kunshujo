
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <script
  src="//code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

  <title>『捃拾帖』デジタル展示</title>

  <script src="./assets/js/main.js"></script>


  <script>asset('./');</script>

</head>

<body>

  <script>header('./');</script>

  <div class="container py-2 my-5">

    <div id="container2" class="my-5"></div>

    <div class="text-center" id="loading">
      <img src="https://img.buzzfeed.com/buzzfeed-static/static/enhanced/web05/2012/4/24/16/anigif_enhanced-buzz-10731-1335299292-14.gif" class="img-fluid"/>
    </div>

  </div>

  <script>footer('./');</script>

  <script>
  
  jQuery(document).ready(function() {

    $.ajax({
      url:'data/progress.json'
    })
    .then(
      // 1つめは通信成功時のコールバック
      function (result) {

        var items = new Array();

        var total = 0;

        for(var key in result){
          var item = new Array();
          item.push(Date.parse(key));
          total = total + result[key];
          item.push(total)
          items.push(item)
        }

        // Build the chart
        Highcharts.chart('container2', {
          chart: {
            zoomType: 'x'
          },
          title: {
            text: ''
          },
          subtitle: {
            text: document.ontouchstart === undefined ?
            'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
          },
          xAxis: {
            type: 'datetime'
          },
          yAxis: {
            title: {
              text: ""//'No. of data'
            }
          },
          legend: {
            enabled: false
          },
          plotOptions: {
            area: {
              fillColor: {
                linearGradient: {
                  x1: 0,
                  y1: 0,
                  x2: 0,
                  y2: 1
                },
                stops: [
                  [0, Highcharts.getOptions().colors[0]],
                  [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                ]
              },
              marker: {
                radius: 2
              },
              lineWidth: 1,
              states: {
                hover: {
                  lineWidth: 1
                }
              },
            }
          },

          series: [{
            type: 'area',
            name: 'items',
            data: items
          }]
        });


      },
      // 2つめは通信失敗時のコールバック
      function () {
        alert(data.statusText);
      }
    ).always(function() {
      $("#loading").empty()
    });

  })




</script>
</body>
</html>
